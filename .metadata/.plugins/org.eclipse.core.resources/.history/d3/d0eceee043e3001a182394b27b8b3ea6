<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>  
<%@ page import="com.koreait.pjt.db.BoardDAO" %>
<%@ page import="com.koreait.pjt.vo.BoardVO" %>
<%@ page import="java.util.*" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>리스트</title>
<style>
	* { margin: 0px; padding: 0px;}
	body{ background: #2B3032; font-family:나눔고딕;}
	#container{ width:1000px; height: 100%; margin: 0 auto;}
	#long { width: 600px;}
	#middle { width: 300px;}
	#betweenul{ display: flex; justify-content:space-between;}
	#rightul {display: flex; justify-content:space-around;}
	#rightul li {margin-left: 20px;}
	nav { text-align:right;}
	li {list-style:none; float: left;}
	div { text-align: center; padding-top : 30px;}
	h5 {text-align: right; color: #ffffff;}
	h2 { color : #dfdfdf; margin-top: 40px; margin-bottom: 40px;}
	a {text-decoration: none; color: #ffffff;}
	table { border-collapse : collapse;font-size: 12px;  width: 100%; margin: 0 auto; border: none; background: #dfdfdf}
	table tr {background: gray; border: none;}
	table th { background: #9e9e9e;  height: 45px; border: none; font-weight: bold; background: #33393B; color: #ffffff}
	table td { height: 40px; width: 150px; border: none; color: #ffffff; background: #232729;}
	.pnt:hover { background: #ffffff; cursor: pointer;}
	
</style>
</head>
<body>

	<div id="container">
		<nav>
			<ul id="betweenul">
				<li>
					<h5>${loginUser.nm}님 환영합니다</h5>
				</li>
				<li>
					<ul id="rightul">
						<li>
							<h5><a href="/board/regmod">게시글작성</a></h5>
						</li>
						<li>
							<h5><a href="/login">로그아웃</a></h5>
						</li>
					</ul>
					
				</li>
			</ul>
		</nav>
		<div>
			<h2>B O A R D</h2>
		</div>
		<table>
			<tr>
				<th>번호</th>
				<th id="long">제목</th>
				<th>작성자</th>
				<th>조회수</th>
				<th id="middle">작성일</th>
			</tr>
			<c:choose>
				<c:when test="${empty data}">
					<tr>
						<td colspan="5" align="center">현재 등록된 글이 없습니다.</td>
					</tr>
				</c:when>
				<c:otherwise>
					<c:forEach items="${data}" var="item">
						<form id="frm" action="detail" method="post">
							<tr class="pnt" onclick="moveToDetail(${item.i_board})">
								<td>${item.i_board}</td>
								<td>${item.title}</td>
								<td>${item.i_user}</td>
								<td>${item.hits}</td>
								<td>${item.r_dt}</td>
							</tr>
						</form>
					</c:forEach>
				</c:otherwise>
			</c:choose>
		</table>
	</div>
	<script>
		function moveToDetail(i_board) 
		{
			location.href = '/board/detail?i_board=' + i_board
		}
	</script>
</body>
</html>